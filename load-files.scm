
(use-modules (annotation) (annotation main)
        (annotation gene-go)
        (annotation biogrid) 
        (annotation gene-pathway)
        (annotation functions)
        (annotation util)
        (annotation parser)
        (json))
(use-modules (opencog))
(use-modules (opencog cogserver))
(start-cogserver)

(define (loaf fn)
	(define start (current-time))
	(define ssz (count-all))
	(define path (string-append "/home/ubuntu/datasets/" fn))
	(define jnk (primitive-load path))
	(define delapse (- (current-time) start))
	(define elapse (if (eq? delapse 0) 1 delapse))
	(define delta (- (count-all) ssz))
	(define rate (/ (exact->inexact delta) elapse))
	(format #t "Took ~A secs to load ~A\n" elapse fn)
	(format #t "Loaded ~A atoms (~A per sec) total atoms=~A\n"
		delta rate (count-all))
	*unspecified*
)

(define start (current-time))
(loaf "biogridgene2uniprot.scm")
(loaf "biogrid_gene_gene_174.scm")
(loaf "ChEBI2Reactome_PE_Pathway.txt.scm")
(loaf "current_symbols.scm")
(loaf "entrez_to_protein.scm")
(loaf "GO_annotation.scm")
(loaf "GO_without_def.scm")
(loaf "NCBI2Reactome_PE_Pathway.txt.scm")
(loaf "reactome.scm")
(loaf "smpdb_chebi_wname.scm")
(loaf "smpdb_protein.scm")
(loaf "uniprot2GO.scm")
(loaf "UniProt2Reactome_PE_Pathway.txt.scm")

(loaf "current/biogridgene2uniprot.scm")
(loaf "current/biogrid_gene_gene_3.5.177.scm")
(loaf "current/ChEBI2Reactome_PE_Pathway.txt.scm")
(loaf "current/entrez_to_protein.scm")
(loaf "current/GO.scm")
(loaf "current/GO_annotation.scm")
(loaf "current/NCBI2Reactome_PE_Pathway.txt.scm")
(loaf "current/reactome.scm")
(loaf "current/uniprot2GO.scm")
(loaf "current/UniProt2Reactome_PE_Pathway.txt.scm")

(format #t "\nLoaded all the files in ~A seconds\n" (- (current-time) start))
*unspecified*
